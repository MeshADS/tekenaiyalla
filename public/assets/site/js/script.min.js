var eventJS=new function(){var e=function(){$(".category-options").on("change",function(e){var t=$(this).val();window.location.href=t})};this.init=function(){e()}},admissionJS=new function(){function e(){$(".fancyboxBtn").fancybox({overlay:{locked:!1},autoDimensions:!1,width:560})}function t(){if($("form").hasClass("application-form")&&$("#application-form").validate({rules:{childs_name:{required:!0},childs_surname:{required:!0},childs_age:{required:!0,number:!0,min:0},childs_sex:{required:!0},childs_birthday:{required:!0,date:!0},address:{required:!0},starting_on:{required:!0,date:!0},mothers_name:{required:!0},mothers_workphone:{required:!0},mothers_homephone:{required:!0},mothers_mobilephone:{required:!0},mothers_email:{required:!0,email:!0},fathers_name:{required:function(e){return $(".application-form #mothers_name").val().length<1?!0:!1}},fathers_workphone:{required:function(e){return $(".application-form #mothers_workphone").val().length<1?!0:!1}},fathers_homephone:{required:function(e){return $(".application-form #mothers_homephone").val().length<1?!0:!1}},fathers_mobilephone:{required:function(e){return $(".application-form #mothers_mobilephone").val().length<1?!0:!1}},fathers_email:{required:function(e){return $(".application-form #mothers_email").val().length<1?!0:!1},email:!0}},messages:{childs_age:{required:"Age must be a number.",number:"Age must be a number.",min:"Child's age must 0 or above."},childs_birthday:{date:"Birthday must be in the following format mm/dd/yyyy."},starting_on:{date:"Starting date must be in the following format mm/dd/yyyy."}}}),$("form").hasClass("afterschool-application-form")){$("#afterschool-application-form").validate({rules:{childs_name:{required:!0},childs_surname:{required:!0},childs_sex:{required:!0},dob:{required:!0,date:!0},address:{required:!0},starting_on:{required:!0,date:!0},parents_name:{required:!0},parents_phone:{required:!0},parents_email:{required:!0,email:!0},work_address:{required:!0},checkboxes:{required:!0,min:1}},messages:{dob:{date:"Birthday must be in the following format mm/dd/yyyy."},starting_on:{date:"Starting date must be in the following format mm/dd/yyyy."},checkboxes:{required:"Please select at least one club to continue.",min:"Please select at least one club to continue."}}});var e=0;a(e),$(".club_checks").click(function(){e=0,a(e)})}}function a(e){$(".club_checks").each(function(){elm=$(this),elm.is(":checked")&&e++}),$("#afterschool-application-form .checkboxes").val(e),$(".club_checks").each(function(){elm=$(this),2!=e||elm.is(":checked")?elm.prop("disabled",!1):elm.prop("disabled",!0)})}this.init=function(){e(),t()}},contactJS=new function(){function e(){$("#contactForm").validate({rules:{name:{required:!0},email:{required:!0,email:!0},comment:{required:!0}},messages:{name:{required:"This field is required."},email:{required:"This field is required.",email:"Please enter a valid email address."},comment:{required:"This field is required."}}})}this.init=function(){e()}},keenClient=new function(){var e=function(){var e=new Keen({projectId:"560a6fe196773d0246b5d890",writeKey:"e60803c5059df7f58f330506192e8b4c1c12acea1343a350ec2ac5b12b1e5a62e8f3ca6de7b769d30bb6075be8dbe0c566c6b8dee9a78818c6fb2d85dd9d1cea502eaa5639055c63c828424ef866ae816b71b680a159cd8bd2e1140863b6aee9c0c9470fa509a43ade48ecef3cd509fe"});return e};this.addEvent=function(t,a){var i,n=e();return n.addEvent(t,a,function(e,t){e&&(i=e),t&&(i=t)}),i},this.rsrc={getCookie:function(){$.cookie.json=!0;var e=new Date;e.setMinutes(e.getMinutes()+30);var t=$.cookie("session_cookie");void 0==t?$.cookie("session_cookie",{id:Math.uuid()},{expires:e,path:"/"}):($.removeCookie("session_cookie",{path:"/"}),$.cookie("session_cookie",t,{expires:e,path:"/"}));var a=$.cookie("permanent_cookie");return void 0==a&&$.cookie("permanent_cookie",{id:Math.uuid()},{expires:3650,path:"/"}),{permanent_cookie:a,session_cookie:t}},getURL:function(){var e=window.location.href,t=$.url(e);return{source:t.attr("source"),protocol:t.attr("protocol"),domain:t.attr("host"),port:t.attr("port"),path:t.attr("path"),anchor:t.attr("anchor")}},getUa:function(){var e=new UAParser;return{browser:e.getBrowser(),engine:e.getEngine(),os:e.getOS()}},getReferrer:function(){var e=document.referrer;return referrerObject=null,void 0!=e&&(parsedReferrer=$.url(e),referrerObject={source:parsedReferrer.attr("source"),protocol:parsedReferrer.attr("protocol"),domain:parsedReferrer.attr("host"),port:parsedReferrer.attr("port"),path:parsedReferrer.attr("path"),anchor:parsedReferrer.attr("anchor")}),referrerObject},getDate:function(){var e=new Date,t=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],a=["Sunday","Monday","Tueday","Wednesday","Thursday","Friday","Saturday"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=e.getFullYear(),o=e.getMonth(),l=e.getDay(),s=e.getDate(),c=e.getHours(),d=e.getMinutes(),u=e.getSeconds(),f={date:s,day:l,shortDay:t[l],longDay:a[l],day:l,fullYear:r,hour:c,milliseconds:e.getMilliseconds(),minute:d,month:o,shortMonth:i[o],longMonth:n[o],second:u,time:e.getTime(),dateTime:e.toString(r+"-"+o+"-"+s+" "+c+":"+d+":"+u),fullDate:o+"-"+s+"-"+r};return f}}},formJS=new function(){var e,t,a=0,i=[];validateOptions={},colors=["orange","green","green2","purple","blue"],$fieldsetTpl='<fieldset class="m-b-30">|LEGEND|<div class="row">|ELEMENTS|</div></fieldset>',$elementTpl='<div class="|SIZE|"><div class="form-group">|ELEMENT|</div></div>',$buttonTpl='<button type="submit" class="btn btn-lg |COLOR|-background hoverable m-v-40"><span class="white-text">Submit</span></button>',$elements=[],$listValues=[],$elements.checkbox='<h4 class="black-text">|ELEMENTNAME|</h4>|OPTIONS|',$elements["radio-button"]='<h4 class="black-text">|ELEMENTNAME|</h4>|OPTIONS|',$elements.select='<label for="|ELEMENTID|">|ELEMENTNAME|</label><select name="|ELEMENTSLUG|" id="|ELEMENTID|" class="form-control">|OPTIONS|</select>',$elements["text-input"]='<label for="|ELEMENTID|">|ELEMENTNAME|</label><input type="text" name="|ELEMENTSLUG|" id="|ELEMENTID|" class="form-control |IFDATE|">',$elements.textarea='<label for="|ELEMENTID|">|ELEMENTNAME|</label><textarea name="|ELEMENTSLUG|" id="|ELEMENTID|" rows="3" class="form-control"></textarea>',$listValues.select='<option value="|OPTIONVALUE|">|OPTIONNAME|</option>',$listValues.checkbox='<label for="|ELEMENTID|"><input type="checkbox" name="|ELEMENTSLUG|[]" id="|ELEMENTID|" value="|OPTIONVALUE|">&nbsp;|ELEMENTNAME|</label><br>',$listValues["radio-button"]='<label for="|ELEMENTID|"><input type="radio" name="|ELEMENTSLUG|" id="|ELEMENTID|" class="">&nbsp;|ELEMENTNAME|</label><br>';var n=function(){e=Site.data.form,t=e.elements,formHtml="";for(var i in t){var n=t[i],o=r(i,n,$fieldsetTpl);formHtml+=o}$(formHtml).appendTo("#"+e.slug+" #form_fields");var c=$buttonTpl;s(),c=c.replace("|COLOR|",colors[a]),a++,$(c).appendTo("#"+e.slug+" #form_button"),$(".form_holder .loader").fadeOut("fast",function(){$(".form_holder form").fadeIn("fast")}),l("#"+e.slug),$(".datepicker").datepicker({format:"mm/dd/yyyy"})},r=function(e,t,i){s();var n="";t.length>0?(i=i.replace("|LEGEND|",'<legend class="'+colors[a]+'-text">'+e+"</legend>"),a++):i=i.replace("|LEGEND|","");for(var r in t){var l=t[r];n+=o(l)}return i=i.replace("|ELEMENTS|",n)},o=function(e){var t=$elementTpl,a=$elements[e.type],n="",r=e.list_values,o=e.rules,l=[],s=!1;for(var c in o)elRule=o[c],l[elRule]=!0,"date"==elRule&&(s=!0);for(var d in r){var u=r[d];n+=$listValues[e.type],n=n.replace("|ELEMENTID|",e.id+u.id),n=n.replace("|ELEMENTNAME|",u.name),n=n.replace("|ELEMENTSLUG|",e.slug),n=n.replace("|OPTIONNAME|",u.name),n=n.replace("|OPTIONVALUE|",u.value),n=n.replace("|ELEMENTID|",e.id+u.id)}return i[e.slug]=l,a=a.replace("|OPTIONS|",n),a=a.replace("|ELEMENTNAME|",e.name),a=a.replace("|ELEMENTID|",e.id),a=a.replace("|ELEMENTID|",e.id),a=a.replace("|ELEMENTSLUG|",e.slug),s&&(a=a.replace("|IFDATE|","datepicker")),t=t.replace("|SIZE|",e.size),t=t.replace("|ELEMENT|",a)},l=function(e){$(e).validate({rules:i})},s=function(){a==colors.length<1&&(a=0)};this.init=function(){n()}},galleryJS=new function(){function e(){$(".fancyboxBtn").fancybox({overlay:{locked:!1},autoDimensions:!1,width:560})}function t(){$(function(){$albumListContainer=$("#album-list"),$albumListContainer.imagesLoaded(function(){$albumListContainer.masonry({itemSelector:".album-item",columnWidth:0,gutterWidth:0})})})}this.init=function(){e(),t()}},homeJS=new function(){function e(){n=$(".heroslider").owlCarousel({loop:!0,margin:0,autoplay:!0,autoplayHoverPause:!0,autoplayTimeout:7e3,responsive:{0:{items:1},992:{items:1}}}),a()}function t(){var e=$(".heroslider-nav .nav-item").outerHeight(),t=$(".heroslider").outerHeight(),a=(t-e)/2;$(".heroslider-nav .nav-item").css({top:a+"px"})}function a(){navItem=$(".heroslider-nav .nav-item"),navItem.click(function(e){$(this).hasClass("next")?n.trigger("next.owl.carousel"):$(this).hasClass("prev")&&n.trigger("prev.owl.carousel"),e.preventDefault()}),waitForFinalEvent(function(){t()},500,"yadiya")}function i(){$(window).resize(function(){waitForFinalEvent(function(){t()},500,"yadiya")})}var n;this.init=function(){e(),i()}},myaccount=new function(){function e(){function e(){n.reset()}var t=Site.Config.url,a=Site.data.userdata,i={modal:!0,zoomFactor:20,rotateControls:!1,customUploadButtonId:"newAvatarTriger",uploadUrl:t+"/api/user/uploadAvatar",cropUrl:t+"/api/user/cropAvatar",uploadData:{user:a.id,_token:Site.Config.token},cropData:{user:a.id,_token:Site.Config.token},onAfterImgCrop:function(a){$("#account_avatar").prop("src",t+"/"+a.url),e()},onError:function(e){}},n=new Croppic("newAvatarCrop",i)}function t(){$("#master_checkbox").click(function(e){var t=0;$(this).is(":checked")?($(".table_checkbox").prop("checked",!0),$(".bulk_checked_list").html(""),$(".table_checkbox").each(function(){var e=$(this).val();$("<input type='hidden' name='list[]' value='"+e+"' id='item"+e+"'>").prependTo(".bulk_checked_list")})):($(".table_checkbox").prop("checked",!1),$(".bulk_checked_list").html("")),$(".table_checkbox").each(function(){$(this).is(":checked")&&t++}),t>0?$(".bulkActionElement").removeClass("hide"):$(".bulkActionElement").hasClass("hide")||$(".bulkActionElement").addClass("hide")}),$(".table_checkbox").click(function(){var e=$(this).val(),t=0;$(this).is(":checked")?$("<input type='hidden' name='list[]' value='"+e+"' id='item"+e+"'>").prependTo(".bulk_checked_list"):($("#master_checkbox").prop("checked",!1),$(".bulk_checked_list #item"+e).remove()),$(".table_checkbox").each(function(){$(this).is(":checked")&&t++}),t>0?$(".bulkActionElement").removeClass("hide"):$(".bulkActionElement").hasClass("hide")||$(".bulkActionElement").addClass("hide")})}this.init=function(){e(),t()}},newsJs=new function(){function e(){var e=getUrlVars().search;$(".news-list").highlight(e)}function t(){$("#news-search").keyup(function(){var e=$(this).val();$(".news-list").removeHighlight(),$(".news-list").highlight(e)})}this.init=function(){e(),t()}},postJS=new function(){var e=function(){var e=Site.data.post;return e},t=function(){var t=e(),a=(keenClient.rsrc.getUa(),keenClient.rsrc.getCookie(),keenClient.rsrc.getReferrer()),i=keenClient.rsrc.getDate(),n=(keenClient.rsrc.getURL(),{id:t.id,title:t.title,slug:t.slug,type:"view",referrer:{source:a.source},author:{id:t.author.id},category:{id:t.category.id},date:{timestamp:i.fullYear+"/"+i.month+"/"+i.date+" "+i.hour+":"+i.minute+":"+i.second,date:i.fullDate,time:i.hour+":"+i.minute+":"+i.second,unixTime:i.time}});keenClient.addEvent("test.post.activity",n)};this.init=function(){t()}},studentJS=new function(){function e(){$(".fancyboxBtn").fancybox({overlay:{locked:!1},autoDimensions:!1,width:560})}this.init=function(){e()}},teamJS=new function(){function e(){$(".teamBioBtn").fancybox({overlay:{locked:!1},autoDimensions:!1,width:560})}this.init=function(){e()}};!function(){var e={stickynav:function(){var e=$(window).scrollTop(),t=$("header").outerHeight();e>t?$("header").hasClass("sticky")||$("header").addClass("sticky"):$("header").hasClass("sticky")&&$("header").removeClass("sticky")},mobilemenu:function(){$("#mobile-menu-toggler").click(function(e){var t=$(".mobile-menu-list"),a=$(".mobile_menu .has-sub .sub");submenusToggler=$(".mobile-menu .has-sub >a"),$(".mobile-menu-list").is(":visible")?(t.slideUp(250),a.slideUp(250),submenusToggler.removeClass("open")):t.slideDown(250),e.preventDefault()});var e=$(".mobile-menu .menu-list .has-sub >a");e.click(function(e){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open");var t=$(this).parent(".has-sub"),a=t.children(".sub");a.hasClass("sub")&&(a.is(":visible")?a.slideUp(250):a.slideDown(250),e.preventDefault())})},basicowlcarousel:function(){$(".basicowlcarousel").each(function(){$(this).owlCarousel({loop:!0,margin:10,autoplay:!0,autoplayTimeout:7e3,responsive:{0:{items:1},768:{items:1},991:{items:2},992:{items:4}}})})},getFlickr:function(){var e,t=Site.Config.token,a=Site.Config.url;return e=$.ajax({url:a+"api/flickr",method:"GET",headers:{token:t}})},flickrPlugin:function(){$(".sb_flickr #loader").fadeIn(250,function(){var t,a,i=e.getFlickr(),n=Site.Config.url;i.success(function(i){switch(i.status){case"error":$(".sb_flickr #loader").fadeOut(250,function(){e.reloadFlickrPlugin()});break;default:for(var r=0;r<i.data.length;r++)a=i.data[r],t='<div class="col-sm-3 col-xs-4 m-b-10 fgi p-h-5"><a href="'+n+"/gallery/"+a.set+'"><img src="https://farm'+a.farm+".staticflickr.com/"+a.server+"/"+a.id+"_"+a.secret+'_q.jpg" class="fullwidth radius"></a></div>',$(t).hide().appendTo(".sb_flickr #flickr_photos");$(".sb_flickr #loader").fadeOut(250,function(){$(".sb_flickr #flickr_photos").imagesLoaded(function(){var e=200;$(".sb_flickr #flickr_photos .fgi").each(function(){$(this).delay(e).fadeIn("fast"),e+=50})})})}}).error(function(){$(".sb_flickr #loader").fadeOut(250,function(){e.reloadFlickrPlugin()})}).complete(function(){})})},reloadFlickrPlugin:function(){$(".sb_flickr #reload").fadeIn(250,function(){$(".sb_flickr #reload #reload-btn").click(function(t){$(this).off("click"),$(".sb_flickr #reload").fadeOut(250,function(){e.flickrPlugin()}),t.preventDefault()})})},getTweets:function(){var e,t=Site.Config.token,a=Site.Config.url;return e=$.ajax({url:a+"api/twitter",method:"GET",headers:{token:t}})},twitterPlugin:function(){$(".sb_twitter #loader").fadeIn(250,function(){var t,a,i,n,a=(Site.Config.token,Site.Config.url,'<ul class="list-unstyled spanned_element p-h-20 oc">');t='<li class="spanned_element p-l-0"><div class="spanned_element black m-t-10">|TEXT|</div><div class="spanned_element bold xs-text gray-text text-right m-t-5 m-b-0" data-livestamp="|TIME|"></div></div>',n='<div class="card spanned_element" style="background:#ddd url(|BANNER|)	0px 0px no-repeat; background-size:cover;"><div class="black-background bg-olay">&nbsp;</div><div class="spanned_element p-t-20 p-h-10 p-b-15"><div class="container-fluid"><div class="row"><div class="col-xs-2 nopadding"><a href="|URL|" class="no-text-decoration"><img src="|IMAGE|" alt="Image" class="pull-left fullwidth" style="border:solid 3px #fff;"></a></div><div class="col-xs-10 nopadding"><a href="|URL|" class="no-text-decoration"><h4 class="spanned_element p-h-10 m-b-0 bold" style="color:|LINKCOLOR|;">|NAME|</h4><h6 class="spanned_element alt-text xs-text m-t-0 p-h-10">|SCREENNAME|</h6></a></div><div class="col-md-12"><a href="https://twitter.com/intent/follow?screen_name=|SCREENNAME|" target="_blank"class="btn btn-sm white-background hoverable black-link pull-right flat-it p-v-5 bold"><i class="twitter-text fa fa-plus"></i>&nbsp;Follow</a></div></div><div></div></div>',$tweets=e.getTweets(),$tweets.success(function(e){switch(e.status){case"error":break;default:var r=e.data.user;n=n.replace("|IMAGE|",r.photo),n=n.replace("|BANNER|",r.banner),n=n.replace("|NAME|",r.name),n=n.replace("|SCREENNAME|",r.screenName),n=n.replace("|SCREENNAME|",r.screenName),n=n.replace("|LINKCOLOR|","#"+r.linkColor),n=n.replace("|URL|",r.url),n=n.replace("|URL|",r.url);for(var o=0;o<=e.data.tweets.length-1;o++){i=e.data.tweets[o];var l=t;l=l.replace("|TEXT|",i.text),l=l.replace("|TIME|",i.time),a+=l}a+="</ul>",$(a).hide().appendTo(".sb_twitter #tweetSlider"),$(n).hide().appendTo(".sb_twitter #userCard"),$(".sb_twitter #tweetSlider ul.oc").owlCarousel({loop:!0,margin:0,autoplay:!0,autoplayTimeout:8e3,responsive:{0:{items:1}}}),$(".sb_twitter #loader").fadeOut(250,function(){$(".sb_twitter #userCard .card").fadeIn(250),$(".sb_twitter #tweetSlider ul.oc").fadeIn(250)})}}).error(function(){$(".sb_twitter #loader").fadeOut(250,function(){e.reloadTwitterPlugin()})}).complete(function(){})})},reloadTwitterPlugin:function(){$(".sb_twitter #reload").fadeIn(250,function(){$(".sb_twitter #reload #reload-btn").click(function(t){$(this).off("click"),$(".sb_twitter #reload").fadeOut(250,function(){e.twitterPlugin()}),t.preventDefault()})})},myModal:function(){$('[data-toggle="myModal"]').on("click",function(t){$('[data-toggle="myModal"]').off("click"),$('[data-dismiss="myModal"]').off("click"),$(".myModal-olay").off();var a=$(this).attr("data-target");e.showMyModal(a),e.myModal(),t.preventDefault()}),$('[data-dismiss="myModal"]').on("click",function(t){$('[data-toggle="myModal"]').off("click"),$('[data-dismiss="myModal"]').off("click"),$(".myModal-olay").off();var a=$(this).parents(".myModal"),i=$(this).attr("data-toggle"),n=$(this).attr("data-target");a.hasClass("myModal")&&(a.removeClass("showMyModal"),a.delay(200).fadeOut(200,function(){void 0!=i&&"nextMyModal"==i?e.showMyModal(n):$("body").removeClass("hide-overflow")})),e.myModal(),t.preventDefault()}),$(".myModal-olay").on("click",function(t){$('[data-toggle="myModal"]').off("click"),$('[data-dismiss="myModal"]').off("click"),$(".myModal-olay").off();var a=$(this).parents(".myModal");a.hasClass("myModal")&&(a.removeClass("showMyModal"),a.delay(200).fadeOut(200,function(){$("body").removeClass("hide-overflow")})),e.myModal(),t.preventDefault()})},showMyModal:function(e){void 0!=e&&$(e).hasClass("myModal")&&($("body").addClass("hide-overflow"),$(e).fadeIn(200,function(){$(e).addClass("showMyModal")}))},myaccordion:function(){$("[data-toggle=myaccordion]").click(function(e){var t=$(this).attr("data-target"),a=$(this).attr("data-group");void 0!=a&&$("."+a).slideUp("fast"),void 0!=t&&$(t).hasClass("myaccordion")&&($(t).is(":visible")?$(t).slideUp("fast"):$(t).slideDown("fast")),e.preventDefault()})},footer:function(){},post_card:function(){$container=$("#post-card-container"),$container.imagesLoaded(function(){$container.masonry({itemSelector:".post-card-item",columnWidth:0,gutterWidth:0})})},parallaxContent:function(){$('[data-parallax="scroll"]').each(function(){var e,t=$(this).height(),a=50*t/75,i="translateX",n=.17,r=$(this).children(".parallaxContent");e=$(window).scrollTop(),i="translateY",r.css({transform:i+"("+e*n+"px)"}),r.css(e>a?{opacity:1-e/1200}:{opacity:1})})},pageViews:function(){{var e=$.parseJSON(Site.data.page);({id:e.id,name:e.name,slug:e.slug,url:keenClient.rsrc.getURL(),referrer:keenClient.rsrc.getReferrer(),userAgent:keenClient.rsrc.getUa(),date:keenClient.rsrc.getDate(),cookies:keenClient.rsrc.getCookie()})}},windowEventsListener:function(){$(window).scroll(function(){e.parallaxContent()})},init:function(){e.twitterPlugin(),e.flickrPlugin(),e.windowEventsListener(),window.sr=new scrollReveal,e.mobilemenu(),e.footer(),e.basicowlcarousel(),$(".datepicker").datepicker({format:"mm/dd/yyyy"}),e.myModal(),e.post_card(),e.myaccordion(),e.pageViews()}};e.init()}();var waitForFinalEvent=function(){var e={};return function(t,a,i){i||(i="Don't call this twice without a uniqueId"),e[i]&&clearTimeout(e[i]),e[i]=setTimeout(t,a)}}(),getUrlVars=function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<a.length;i++)e=a[i].split("="),t.push(e[0]),t[e[0]]=e[1];return t};